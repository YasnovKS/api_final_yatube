# API для Yatube
## Описание

Этот проект предоставляет пользователям Yatube возможность
взаимодействия с соцсетью посредством api-запросов. В нем есть
все необходимые инструменты для получения данных о контенте 
пользователей Yatube, а также создания и редактирования своих
собственных данных (посты, комментарии, подписки).
Использование api-запросов позволяет взаимодействовать с соцсетью,
не открывая браузер, например, с мобильного телефона или командной
строки!

## Установка
1. Склонируйте проект в локальную директорию;
2. Разверните виртуальное окружение командой python -m venv venv;
3. Активируйте виртуальное окружение (source venv/Scripts/activate;
4. Установите все необходимые зависимости командой pip install -r requirements.txt;
5. Выполните миграции командой python manage.py migrate, находясь в директории 
   yatube_api/ (попасть в директорию можно командой cd yatube_api/ из корневой папки
   проекта)
6. Запустите сервер командой python manage.py runserver.

## Использование api
_Все api-запросы выполняются по адресам с префиксом "api/v1/", далее будут показаны
примеры различных типов запросов_

Все запросы, выполняемые для изменения контента, а также для получения некоторых
объектов должны быть выполнены авторизованными пользователями.
Для получения токена авторизации необходимо выполнить пост-запрос на адрес:
"jwt/create/"

POST http://127.0.0.1:8000/api/v1/jwt/create/
Content-Type: application/json

{
    "username": "username",
    "password": "password"
}

_Далее ко всем пост-запросам для изменения контента следует добавлять полученный токен._

### Запросы к постам соцсети:

__Получение информации о постах:__
GET http://127.0.0.1:8000/api/v1/posts/

__Получение информации о конкретном посте:__
GET http://127.0.0.1:8000/api/v1/posts/{post_id}/

__Создание поста:__
POST http://127.0.0.1:8000/api/v1/posts/
Content-Type: application/json
Authorization: Bearer "ваш токен"

{
  "text": "text",
  "group": "group",
  "image": "image"
}

__Обновление данных поста:__
PUT / PATCH http://127.0.0.1:8000/api/v1/posts/{post_id}/
Content-Type: application/json
Authorization: Bearer "ваш токен"

{
  "text": "new_text",
  "group": "another_group",
  "image": "new_image"
}

__Удаление поста:__
DELETE http://127.0.0.1:8000/api/v1/posts/{post_id}/
Content-Type: application/json
Authorization: Bearer "ваш токен"

### Получение данных и обновления комментариев к постам выполняется аналогично
_для доступа к коментариям используйте в качестве префикса url-адрес поста, например:_

__Получение информации о комментариях:__
GET http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/

### Для взаимодействия с группами используйте следующие виды запросов:

__Получение данных о группах, либо конкретной группе:__
GET http://127.0.0.1:8000/api/v1/groups/

GET http://127.0.0.1:8000/api/v1/groups/{group_id}/

### Подписка на авторов:

__Получение сведений о подписках:__
GET http://127.0.0.1:8000/api/v1/follow/

__Подписаться на автора:__
GET http://127.0.0.1:8000/api/v1/follow/
Content-Type: application/json
Authorization: Bearer "ваш токен"

{
   "following": "username"
}
